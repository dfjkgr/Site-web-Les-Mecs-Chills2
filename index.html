
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prochaine Mise √† Jour - R√©v√©lation Secr√®te</title>
    <!-- Chargement de Tailwind CSS pour le style -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            transition: background-color 0.5s;
        }
        /* Styles pour un look Discord am√©lior√© */
        .chat-container {
            height: 600px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            padding: 10px;
            background-color: #36393f; /* Fond Discord */
            color: #dcddde;
            gap: 4px; /* Espace entre les messages */
        }
        .chat-message {
            padding: 2px 8px; /* R√©duit le padding vertical */
            margin-bottom: 2px;
            display: flex;
            align-items: flex-start;
            transition: background-color 0.1s;
        }
        .chat-message:hover {
            background-color: #32353b; /* L√©g√®re couleur au survol */
        }
        .message-avatar {
            width: 40px;
            height: 40px;
            min-width: 40px;
            min-height: 40px;
            background-color: #585858;
            border-radius: 50%;
            margin-top: 5px;
            margin-right: 12px;
        }
        .message-body {
            flex-grow: 1;
        }
        .message-header {
            display: flex;
            align-items: center;
            margin-top: 8px;
            margin-bottom: 2px;
        }
        .username {
            font-weight: 700;
            font-size: 1rem;
            margin-right: 8px;
        }
        .role-tag {
            font-size: 0.75rem; /* text-xs */
            font-weight: 600;
            padding: 2px 6px;
            border-radius: 4px;
            margin-right: 8px;
            opacity: 0.8;
        }
        .timestamp {
            font-size: 0.75rem; /* text-xs */
            color: #72767d;
            margin-left: 0;
        }
        .message-text {
            line-height: 1.375; /* Plus serr√© pour le texte */
            margin-bottom: 8px;
        }

        /* Style pour les √©nigmes */
        .riddle-input {
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .riddle-input:focus {
            border-color: #3f83f8;
            box-shadow: 0 0 0 3px rgba(63, 131, 248, 0.4);
        }
        /* Animation simple pour "typing" */
        @keyframes loading {
            0%, 80%, 100% {
                transform: scale(0.6);
            }
            40% {
                transform: scale(1);
            }
        }
        .dot {
            width: 8px;
            height: 8px;
            background-color: #b9bbbe;
            border-radius: 50%;
            margin: 0 2px;
            animation: loading 1.2s infinite ease-in-out;
            display: inline-block;
        }
        .dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        .dot:nth-child(3) {
            animation-delay: 0.4s;
        }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen p-4 sm:p-8 flex justify-center items-start">

    <div class="w-full max-w-4xl bg-gray-800 p-6 sm:p-10 rounded-xl shadow-2xl">

        <!-- En-t√™te -->
        <header class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-extrabold text-indigo-400 mb-2">PROJET 'TITAN'</h1>
            <p class="text-xl text-gray-400">La r√©v√©lation est proche. Mais d'abord, prouvez votre valeur.</p>
        </header>

        <!-- Section des √ânigmes (Initialement visible) -->
        <section id="riddle-section" class="space-y-8">
            <div class="text-center p-4 bg-yellow-900/40 rounded-lg border border-yellow-700/50">
                <p class="font-semibold text-lg text-yellow-300">R√©solvez les deux √©nigmes pour acc√©der √† la conversation secr√®te du staff !</p>
            </div>

            <!-- √ânigme 1 -->
            <div class="riddle-card bg-gray-700 p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-3 text-indigo-300">√ânigme 1 : L'Oeil Aveugle</h2>
                <p class="text-gray-300 mb-4">J'ai un ≈ìil mais je ne peux rien voir. Je n'ai ni corps, ni bras, ni jambe. On m'utilise pourtant tous les jours pour rassembler deux morceaux. Qui suis-je ?</p>
                <input type="text" id="riddle1-input" placeholder="Votre r√©ponse (un seul mot)" class="riddle-input w-full p-3 rounded-lg bg-gray-900 border border-gray-600 focus:outline-none text-white">
                <p id="riddle1-status" class="mt-2 text-sm h-4"></p>
            </div>

            <!-- √ânigme 2 -->
            <div class="riddle-card bg-gray-700 p-6 rounded-lg shadow-lg">
                <h2 class="text-2xl font-bold mb-3 text-indigo-300">√ânigme 2 : Le Ma√Ætre des Mers</h2>
                <p class="text-gray-300 mb-4">Je suis souvent repr√©sent√© avec un trident et je suis le dieu grec associ√© aux oc√©ans, aux temp√™tes et aux tremblements de terre. Qui suis-je ?</p>
                <input type="text" id="riddle2-input" placeholder="Votre r√©ponse (un seul mot)" class="riddle-input w-full p-3 rounded-lg bg-gray-900 border border-gray-600 focus:outline-none text-white">
                <p id="riddle2-status" class="mt-2 text-sm h-4"></p>
            </div>

            <!-- Bouton de V√©rification -->
            <div class="text-center">
                <button onclick="checkRiddles()" class="w-full sm:w-auto px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-full shadow-xl transition transform hover:scale-105 duration-200 focus:outline-none focus:ring-4 focus:ring-indigo-500/50">
                    V√©rifier les R√©ponses
                </button>
            </div>
        </section>

        <!-- Section de la Discussion (Initialement cach√©e) -->
        <section id="chat-reveal" class="hidden">

            <div class="text-center mb-8">
                <h2 class="text-4xl font-extrabold text-green-400 mb-2 animate-pulse">ACC√àS CONFIDENTIEL D√âVERROUILL√â</h2>
                <p class="text-xl text-gray-400">Interception de la discussion de l'√©quipe STAFF...</p>
            </div>

            <!-- Conteneur de chat Discord-like -->
            <div id="chat-container" class="chat-container rounded-xl shadow-inner">
                <!-- Les messages seront ajout√©s ici par JavaScript -->
            </div>

            <!-- Indicateur de frappe (typing) -->
            <div id="typing-indicator" class="typing-indicator hidden mt-2">
                <p class="inline-flex items-center text-sm">
                    <span id="typing-name"></span> est en train d'√©crire
                    <span class="dot"></span>
                    <span class="dot"></span>
                    <span class="dot"></span>
                </p>
            </div>

            <footer class="text-center mt-8 p-4 bg-indigo-900/40 rounded-lg">
                <p class="text-xl font-bold text-indigo-300">Rendez-vous **CE SOIR** pour la r√©ouverture avec le nouveau Syst√®me de Points d'Engagement !</p>
            </footer>
        </section>

    </div>

    <script>
        // Cl√©s de r√©ponse (mots simples en minuscules)
        const correctAnswers = {
            riddle1: 'aiguille',
            riddle2: 'poseidon'
        };

        const CHAT_DELAY = 5000; // 5 secondes entre chaque message

        // D√©finition de la conversation avec les r√¥les et couleurs. Les membres du staff sont num√©rot√©s et les r√¥les sont masculins.
        const chatMessages = [
            { sender: "HugoPVPB 1", role: "Organisateur", color: "text-red-400", text: "Yo l'√©quipe ! Le site d'√©nigmes est en ligne, √ßa commence √† teaser. H√¢te de voir les premiers arriver √† la conversation secr√®te. üòâ" },
            { sender: "HugoPVPB 2", role: "Devellopeur", color: "text-yellow-300", text: "C'est propre ! Je finis les tests de la connexion API pour les points. Le syst√®me de r√©compense est vraiment solide cette fois." },
            { sender: "HugoPVPB 3", role: "Designer", color: "text-pink-400", text: "J'ai upload√© le dernier lot d'ic√¥nes de badges. √áa va motiver les troupes quand ils verront √† quoi servent les points." },
            { sender: "HugoPVPB 4", role: "Gestionnaire Communaut√©", color: "text-green-400", text: "Je suis pr√™t pour l'annonce post-r√©v√©lation. Je pense que le moment o√π on parle de la BOUTIQUE va cr√©er le buzz." }, 
            { sender: "HugoPVPB", role: "Cr√©ateur & Devellopeur", color: "text-indigo-400", text: "Top ! HugoPVPB 2, assure-toi que la fr√©quence de gain des points est bien calibr√©e, je veux que √ßa soit m√©rit√© mais encourageant. HugoPVPB 3, le design des paliers est pr√™t ?" },
            { sender: "HugoPVPB 2", role: "Devellopeur", color: "text-yellow-300", text: "Calibrage fait, Hugo ! Les points seront vraiment un indicateur de l'activit√© ET de l'aide apport√©e. Un vrai indice d'engagement." },
            { sender: "HugoPVPB", role: "Cr√©ateur & Devellopeur", color: "text-indigo-400", text: "Parfait. R√©capitulons l'info principale pour la communaut√© qui nous √©coute en secret... La grande nouvelle c'est l'arriv√©e du **Syst√®me de Points d'Engagement** sur le site. Il n'est plus question de niveaux basiques." },
            { sender: "HugoPVPB 1", role: "Organisateur", color: "text-red-400", text: "Exact. Le but ultime : r√©compenser leur fid√©lit√©. Qu'est-ce qu'ils peuvent faire avec ces fameux points ?" },
            { sender: "HugoPVPB", role: "Cr√©ateur & Devellopeur", color: "text-indigo-400", text: "Ces points ouvrent les portes d avantages o√π ils pourront d√©bloquer des avantages exclusifs sur le Discord, des r√¥les sp√©ciaux. C'est le c≈ìur de la mise √† jour pour le serveur Discord et le site." },
            { sender: "HugoPVPB 4", role: "Gestionnaire Communaut√©", color: "text-green-400", text: "J'aime trop l'id√©e des 'Points d'Engagement'. √áa sonne plus officiel et motivant que 'cr√©dits'." },
            { sender: "HugoPVPB 3", role: "Designer", color: "text-pink-400", text: "Les visuels de la Boutique sont pr√™ts pour le lancement ce soir ! √áa va √™tre une tuerie !" },
            { sender: "HugoPVPB", role: "Cr√©ateur & Devellopeur", color: "text-indigo-400", text: "G√©nial. On est plus que pr√™t. Rendez-vous au d√©ploiement. Merci l'√©quipe pour cette super mise √† jour ! Merci encore √† ce qui ont activ√© la Notif Site Web, ca me soutiens !" },
        ];


        /**
         * Ajoute un message au conteneur de chat avec le style Discord.
         * @param {Object} message - L'objet message contenant sender, color et text.
         */
        function displayMessage(message) {
            const chatContainer = document.getElementById('chat-container');
            const messageElement = document.createElement('div');
            messageElement.classList.add('chat-message');

            const date = new Date();
            const timeString = `${String(date.getHours()).padStart(2, '0')}:${String(date.getMinutes()).padStart(2, '0')}`;

            // Nouvelle structure de message inspir√©e de Discord
            messageElement.innerHTML = `
                <div class="message-avatar"></div>
                <div class="message-body">
                    <div class="message-header">
                        <span class="username ${message.color}">${message.sender}</span>
                        <span class="role-tag bg-indigo-600/30 text-indigo-300">(${message.role})</span>
                        <span class="timestamp">${timeString}</span>
                    </div>
                    <div class="message-text">
                        ${message.text}
                    </div>
                </div>
            `;
            chatContainer.appendChild(messageElement);
            chatContainer.scrollTop = chatContainer.scrollHeight; // Scroll vers le bas
        }

        /**
         * Simule l'√©criture et l'envoi des messages avec un d√©lai.
         */
        function startChatSimulation() {
            const typingIndicator = document.getElementById('typing-indicator');
            const typingName = document.getElementById('typing-name');
            let index = 0;

            function processNextMessage() {
                if (index < chatMessages.length) {
                    const message = chatMessages[index];
                    
                    // 1. Afficher l'indicateur de frappe
                    typingName.textContent = message.sender;
                    typingIndicator.classList.remove('hidden');

                    // 2. Cacher l'indicateur et afficher le message apr√®s le d√©lai
                    setTimeout(() => {
                        typingIndicator.classList.add('hidden');
                        displayMessage(message);
                        index++;

                        // 3. Passer au message suivant
                        processNextMessage();
                    }, CHAT_DELAY);
                } else {
                    // Fin de la conversation
                    typingIndicator.classList.add('hidden');
                }
            }

            // D√©marre la s√©quence apr√®s une courte pause initiale
            setTimeout(processNextMessage, 1000); 
        }

        /**
         * V√©rifie si les √©nigmes sont r√©solues et r√©v√®le la discussion.
         */
        function checkRiddles() {
            const input1 = document.getElementById('riddle1-input').value.trim().toLowerCase();
            const input2 = document.getElementById('riddle2-input').value.trim().toLowerCase();

            const status1 = document.getElementById('riddle1-status');
            const status2 = document.getElementById('riddle2-status');

            let solvedCount = 0;

            // V√©rification de l'√©nigme 1
            if (input1 === correctAnswers.riddle1) {
                status1.textContent = "‚úÖ Correct ! Premi√®re √©tape franchie.";
                status1.classList.remove('text-red-400');
                status1.classList.add('text-green-400');
                solvedCount++;
            } else {
                status1.textContent = "‚ùå Incorrect. R√©essayez.";
                status1.classList.remove('text-green-400');
                status1.classList.add('text-red-400');
            }

            // V√©rification de l'√©nigme 2
            if (input2 === correctAnswers.riddle2) {
                status2.textContent = "‚úÖ Correct ! Derni√®re √©tape franchie.";
                status2.classList.remove('text-red-400');
                status2.classList.add('text-green-400');
                solvedCount++;
            } else {
                status2.textContent = "‚ùå Incorrect. R√©essayez.";
                status2.classList.remove('text-green-400');
                status2.classList.add('text-red-400');
            }

            // R√©v√©lation du chat si les deux sont r√©solues
            if (solvedCount === 2) {
                const riddleSection = document.getElementById('riddle-section');
                const chatReveal = document.getElementById('chat-reveal');

                riddleSection.classList.add('opacity-0', 'transition-opacity', 'duration-500');
                
                setTimeout(() => {
                    riddleSection.classList.add('hidden');
                    chatReveal.classList.remove('hidden');
                    chatReveal.classList.add('opacity-0');

                    // Animation de r√©v√©lation
                    setTimeout(() => {
                        chatReveal.classList.remove('opacity-0');
                    }, 50);

                    // Lancer la simulation de chat progressive
                    startChatSimulation();

                }, 500); // D√©lai pour l'effet de transition
            }
        }
    </script>
</body>
</html>
